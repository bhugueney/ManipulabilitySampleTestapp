
#include "DrawObstacle.h"
#include <drawstuff/drawstuff.h> // The drawing library for ODE;
#include "Obstacle.h"
#include "MatrixDefs.h"

#ifdef WIN32
#include <windows.h>
#endif

#include <GL/gl.h>
#include <GL/glu.h>
#include <GL/glut.h>
#include <GL/glui.h>


DrawObstacle::DrawObstacle(const Obstacle& obstacle)
{
	matrices::Vector3 center = obstacle.Center();
	pos_[0] = center.x();
	pos_[1] = center.y();
	pos_[2] = center.z();

	sides_[0] = obstacle.GetW();
	sides_[1] = obstacle.GetH();
	sides_[2] =  0.01f;

	matrices::matrixToArray( R_, obstacle.Basis() );
}

DrawObstacle::~DrawObstacle()
{
	// TODO
}

void DrawObstacle::Draw() const
{
	dsSetColor(1.0f, 1.0f, 1.0f);
	dsDrawBox (pos_, R_, sides_);
}

void DrawObstacle::DrawRed() const
{
	dsSetColor(1.0f, 0.0f, 0.0f);
	dsDrawBox (pos_, R_, sides_);
}
